<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flower Shop</title>
    <link rel="stylesheet" href="../../../css/header.css"> <!-- Header CSS -->
    <link rel="stylesheet" href="../../../css/product.css"> <!-- Product CSS -->
    <link rel="stylesheet" href="../../../css/bootstrap.min.css">
</head>

<body>
    <!-- HEADER -->
    <header class="header">
        <div class="header-left">
            <a href="https://www.sgu.edu.vn/"><img src="../../../Images/SGU-LOGO.png" class="social-icons" alt="Logo"
                    style="width: 60px; height: 60px;"></a>
            <div class="hotline">HOTLINE: (028)38305570</div>
            <div class="social-icons">
                <a href="https://www.facebook.com/profile.php?id=100009526723686"><img src="../../../Images/FB_icon.jpg"
                        alt="Facebook" style="width: 20px; height: 20px;"></a>
                <a href="https://www.instagram.com"><img src="../../../Images/Instagram_icon.png" alt="Instagram"
                        style="width: 20px; height: 20px;"></a>
                <a href="https://www.telegram.com"><img src="../../../Images/Telegram_icon.png" alt="Telegram"
                        style="width: 20px; height: 20px;"></a>
                <a href="https://www.x.com"><img src="../../../Images/X_icon.png" alt="X"
                        style="width: 20px; height: 20px;"></a>
                <a href="https://www.whatsapp.com"><img src="../../../Images/whatsapp_icon.png" alt="WhatsApp"
                        style="width: 20px; height: 20px;"></a>
            </div>
        </div>
        <div class="center">
            <a href="../../mainpage.html"><img src="../../../Images/FlowerShop.png" alt="Logo"></a>
        </div>
        <div class="header-right">
            <a href="Account.html">Tài khoản</a>
            <a href="Cart.html" class="cart"><i class="cart-icon fas fa-shopping-bag"></i> Giỏ hàng</a>
            <a href="Checkout.html">Thanh toán</a>
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="Tìm kiếm sản phẩm..." oninput="showSuggestions()">
                <img src="../../../Images/search-icon.png" alt="Search" id="searchIcon" class="search-icon">
                <div id="suggestions"></div>
            </div>
        </div>
    </header>

    <!-- NAVIGATION BAR -->
    <nav class="nav-bar">
        <ul>
            <li><a href="../../../mainpage.html">Trang Chính</a></li>
            <li><a href="../../../page/menu/me1.html">Hoa tặng sinh nhật mẹ</a></li>
            <li><a href="../../../page/menu/ban1.html">Hoa tặng sinh nhật bạn</a></li>
            <li><a href="../../../page/menu/ny1.html">Hoa tặng sinh nhật người yêu ~ bạn gái</a></li>
            <li><a href="../../../page/menu/sang1.html">Hoa sinh nhật sang trọng</a></li>
            <li><a href="../../../page/menu/re1.html">Hoa sinh nhật giá rẻ</a></li>
        </ul>
    </nav>

    <!-- PRODUCT -->
    <section class="product-details my-3 container">
        <div class="product-details-content d-flex">
            <div class="product-image flex-grow-1">
                <div id="product-img-carousel" class="carousel slide carousel-fade" data-bs-ride="false">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="/images/hoa25.jpg" class="d-block w-100" alt="Hoa Tươi">
                        </div>
                        <div class="carousel-item">
                            <img src="/images/hoa25.jpg" class="d-block w-100" alt="Hoa Khác">
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#product-img-carousel"
                        data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#product-img-carousel"
                        data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
            <div class="product-info flex-grow-1">
                <h3>Hoa Tươi</h3>
                <p>Mã sản phẩm: <span>HT001</span></p>
                <p>Danh mục: <span>Hoa cưới</span></p>
                <p>Giá: <span class="price">499,000 VND <span class="old-price">710,000 VND</span></span></p>
                <div class="product-qty">
                    <div>
                        <p class="text-dark">Số lượng:</p>
                    </div>
                    <form action="">
                        <div class="qty d-flex align-items-center m-0">
                            <button type="button" class="qtyminus">&minus;</button>
                            <input name="qty" id="qty" min="1" max="20" step="1" value="1" class="text-center">
                            <button type="button" class="qtyplus">&plus;</button>
                        </div>
                    </form>
                </div>
                <button class="btn-orders" data-bs-toggle="modal" data-bs-target="#Modalcheck-user"> Đặt hoa </button>
                <div class="product-details-description">
                    <h4>Thông tin chi tiết</h4>
                    <p>
                        Những bông hoa tươi mới nhất được tuyển chọn từ vườn. Chúng sẽ mang lại không khí tươi mới và
                        niềm vui cho mọi dịp lễ.
                    </p>
                    <button class="read-more">Xem thêm</button>
                </div>
                <div class="modal fade" id="Modalcheck-user" tabindex="-1" aria-labelledby="ModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="ModalLabel">Xác nhận đặt hàng</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <p>Bạn có chắc chắn muốn đặt <span id="product-name">Hoa Tươi</span> với số lượng <span
                                        id="product-qty">1</span> không?</p>
                                <form>
                                    <input type="hidden" name="product_id" value="HT001">
                                    <input type="hidden" name="quantity" id="modal-qty" value="1">
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                                <button type="button" class="btn btn-primary">Xác nhận</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer>
        <div class="footer-content">
            <h2>Hoa Sinh Nhật Tặng Bạn</h2>
            <p>Hoa không chỉ là món quà, mà còn là lời chúc hạnh phúc và niềm vui trọn vẹn trong ngày sinh nhật của bạn
            </p>
            <p>Hoa sinh nhật tặng bạn như lời chúc cho tình bạn chúng ta luôn bền lâu, như hoa luôn nở rộ bất kể mùa nào
            </p>
            <p>Ngoài những mẫu hoa có sẵn trên website, Flower Shop cũng có nhận thêm Tùy Chọn Các Loại Hoa Theo Lựa
                Chọn Của Khách Hàng, Hãy Gọi Ngay 113 Để Nhận Thêm Ưu Đãi!</p>
        </div>
    </footer>

    <script>
        // Tìm kiếm sản phẩm
        function performSearch() {
            const query = document.getElementById("searchInput").value;
            if (query.trim()) {
                window.location.href = `/search?query=${encodeURIComponent(query)}`;
            } else {
                alert("Vui lòng nhập từ khóa để tìm kiếm.");
            }
        }

        // Khởi tạo carousel Bootstrap
        let carousel = document.querySelector('#product-img-carousel');
        let bsCarousel = new bootstrap.Carousel(carousel, {
            interval: 3000, // Tự động chuyển slide sau 3 giây
            pause: 'hover', // Dừng khi di chuột qua
        });

        // Hiển thị gợi ý tìm kiếm
        function showSuggestions() {
            const query = document.getElementById("searchInput").value.toLowerCase();
            const suggestions = document.getElementById("suggestions");
            const suggestionItems = ["hoa tươi", "hoa sinh nhật", "hoa cưới", "hoa giá rẻ"];

            if (query) {
                // Lọc danh sách gợi ý theo từ khóa tìm kiếm
                let matches = suggestionItems.filter(item => item.toLowerCase().includes(query));
                suggestions.innerHTML = matches.map(item => `<div class="suggestion-item">${item}</div>`).join('');
                suggestions.style.display = matches.length > 0 ? 'block' : 'none'; // Hiển thị nếu có gợi ý
            } else {
                suggestions.innerHTML = '';
                suggestions.style.display = 'none';
            }
        }

        // Thêm sự kiện click vào gợi ý tìm kiếm
        document.getElementById("suggestions").addEventListener("click", function (e) {
            if (e.target && e.target.classList.contains("suggestion-item")) {
                document.getElementById("searchInput").value = e.target.textContent;
                document.getElementById("suggestions").style.display = 'none'; // Ẩn gợi ý khi chọn
            }
        });

        // Thao tác trên số lượng sản phẩm (tăng giảm)
        document.querySelector('.qtyplus').addEventListener('click', function () {
            var qtyInput = document.getElementById('qty');
            var currentValue = parseInt(qtyInput.value);
            if (currentValue < 20) {
                qtyInput.value = currentValue + 1; // Tăng số lượng
            }
        });

        document.querySelector('.qtyminus').addEventListener('click', function () {
            var qtyInput = document.getElementById('qty');
            var currentValue = parseInt(qtyInput.value);
            if (currentValue > 1) {
                qtyInput.value = currentValue - 1; // Giảm số lượng
            }
        });

        // Xem thêm hoặc thu gọn mô tả sản phẩm
        document.querySelector('.read-more').addEventListener('click', function () {
            const description = document.querySelector('.product-details-description p');
            if (this.textContent === "Xem thêm") {
                description.textContent += " Đây là thông tin chi tiết hơn về sản phẩm."; // Mở rộng mô tả
                this.textContent = "Thu gọn"; // Đổi text thành "Thu gọn"
            } else {
                description.textContent = "Những bông hoa tươi mới nhất được tuyển chọn từ vườn. Chúng sẽ mang lại không khí tươi mới và niềm vui cho mọi dịp lễ."; // Thu gọn mô tả
                this.textContent = "Xem thêm"; // Đổi text thành "Xem thêm"
            }
        });

        // Thêm sản phẩm vào giỏ hàng
        document.querySelector('.btn-orders').addEventListener('click', function () {
            const qty = document.getElementById("qty").value;
            const productName = document.querySelector('.product-info h3').textContent;
            alert(`Bạn đã thêm ${qty} sản phẩm (${productName}) vào giỏ hàng!`); // Thông báo khi thêm vào giỏ
        });
    </script>
    
    <script src="/js/product.js"></script> <!-- Đường dẫn tuyệt đối -->
</body>

</html>